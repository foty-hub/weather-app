{"version":3,"sources":["logo.svg","components/DailyRow.js","components/CurrentDisplay.js","App.js","reportWebVitals.js","index.js"],"names":["DailyRow","props","className","time","desc","max","min","CurrentDisplay","isNaN","temp","onSubmit","type","autoComplete","placeholder","onChange","width","height","viewBox","fill","xmlns","fillRule","clipRule","d","location","App","locationSearch","localStorage","getItem","useState","currentInfo","setCurrent","currentDesc","setDesc","dailyTime","setDailyTime","dailyDesc","setDailyDesc","dailyMax","setDailyMax","dailyMin","setDailyMin","inputValue","setInputValue","searchValue","setSearchValue","locationDisplay","setLocationDisplay","useEffect","makeRequests","setItem","dateString","dt","dateTime","Date","dayIndex","getDay","dateVal","nth","getDate","month","getMonth","locationString","a","locReq","fetch","locResponse","json","locData","lat","results","geometry","lng","formatted_address","weatherReq","weatherResponse","data","current","weather","description","daily","map","x","Math","round","console","log","event","preventDefault","target","value","reportWebVitals","onPerfEntry","Function","then","getCLS","getFID","getFCP","getLCP","getTTFB","ReactDOM","render","StrictMode","document","getElementById"],"mappings":"+OAAe,I,YCWAA,EATE,SAACC,GAAD,OACf,sBAAKC,UAAU,eAAf,UACE,mBAAGA,UAAU,OAAb,SAAqBD,EAAME,OAC3B,mBAAGD,UAAU,OAAb,SAAqBD,EAAMG,OAC3B,oBAAGF,UAAU,YAAb,UAA0BD,EAAMI,IAAhC,YACA,oBAAGH,UAAU,YAAb,UAA0BD,EAAMK,IAAhC,gBCWWC,EAhBQ,SAACN,GAAD,OACnB,sBAAKC,UAAU,kBAAf,UACI,qBAAIA,UAAU,aAAd,UAA6BM,MAAMP,EAAMQ,MAAqB,aAAbR,EAAMQ,KAAvD,YACA,mBAAGP,UAAU,aAAb,SAA2BD,EAAMG,OACjC,sBAAMM,SAAYT,EAAMS,SAAxB,SACI,uBAAOC,KAAK,OAAOC,aAAa,MAAMV,UAAU,aAAaW,YAAY,mBAAmBC,SAAYb,EAAMa,aAElH,sBAAKZ,UAAU,WAAf,UACI,qBAAKa,MAAM,KAAKC,OAAO,KAAKC,QAAQ,YAAYC,KAAK,OAAOC,MAAM,6BAAlE,SACI,sBAAMC,SAAS,UAAUC,SAAS,UAAUC,EAAE,uZAAuZJ,KAAK,YAE9c,mBAAGhB,UAAU,OAAb,SAAqBD,EAAMsB,kBC2FxBC,EAlGH,WAGV,IAEIC,EAAiB,GAEnBA,EADEC,aAAaC,QAAQ,YACND,aAAaC,QAAQ,YAGrB,aAVH,MAakBC,mBAAS,IAb3B,mBAaTC,EAbS,KAaIC,EAbJ,OAceF,mBAAS,IAdxB,mBAcTG,EAdS,KAcIC,EAdJ,OAekBJ,mBAAS,IAf3B,mBAeTK,EAfS,KAeEC,EAfF,OAgBkBN,mBAAS,IAhB3B,mBAgBTO,EAhBS,KAgBEC,EAhBF,OAiBgBR,mBAAS,IAjBzB,mBAiBTS,EAjBS,KAiBCC,EAjBD,OAkBgBV,mBAAS,IAlBzB,mBAkBTW,EAlBS,KAkBCC,EAlBD,OAmBoBZ,qBAnBpB,mBAmBTa,EAnBS,KAmBGC,EAnBH,OAoBsBd,mBAASH,GApB/B,mBAoBTkB,EApBS,KAoBIC,EApBJ,OAqB8BhB,qBArB9B,mBAqBTiB,EArBS,KAqBQC,EArBR,KAwBhBC,qBAAU,WACRC,EAAaL,GACbjB,aAAauB,QAAQ,WAAYN,KAChC,CAACA,IAEJ,IAmBMO,EAAa,SAACC,GAClB,IAGMC,EAAW,IAAIC,KAAQ,IAAHF,GACpBG,EAAWF,EAASG,SACpBC,EAhBI,SAAClC,GACX,GAAIA,EAAI,GAAKA,EAAI,GAAI,OAAOA,EAAE,KAC9B,OAAQA,EAAI,IACV,KAAK,EAAG,OAAOA,EAAE,KACjB,KAAK,EAAG,OAAOA,EAAE,KACjB,KAAK,EAAG,OAAOA,EAAE,KACjB,QAAS,OAAOA,EAAE,MAUJmC,CAAIL,EAASM,WACvBC,EAAQP,EAASQ,WACvB,MAAM,GAAN,OAPiB,CAAC,MAAO,MAAO,OAAQ,MAAO,QAAS,MAAO,OAO5CN,GAAnB,YAAgCE,EAAhC,YANmB,CAAC,MAAO,MAAO,MAAO,MAAO,MAAO,OAAQ,OAAQ,MAAO,MAAO,MAAO,MAAO,OAM7CG,KAIlDX,EAAY,uCAAG,WAAOa,GAAP,6BAAAC,EAAA,6DACbC,EADa,oEACyDF,EADzD,yDAEOG,MAAMD,GAFb,cAEbE,EAFa,gBAGGA,EAAYC,OAHf,cAGbC,EAHa,OAIbC,EAAMD,EAAQE,QAAQ,GAAGC,SAAS/C,SAAS6C,IAC3CG,EAAMJ,EAAQE,QAAQ,GAAGC,SAAS/C,SAASgD,IACjDzB,EAAmBqB,EAAQE,QAAQ,GAAGG,mBAGhCC,EATa,8DASuDL,EATvD,gBASkEG,EATlE,kEAUWP,MAAMS,GAVjB,eAUbC,EAVa,iBAWAA,EAAgBR,OAXhB,QAWbS,EAXa,OAYnB7C,EAAW6C,EAAKC,SAChB5C,EAAQ2C,EAAKC,QAAQC,QAAQ,GAAGC,aAChC5C,EAAcyC,EAAKI,MAAMC,KAAI,SAAAC,GAAC,OAAI/B,EAAW+B,EAAE9B,QAC/Cf,EAAcuC,EAAKI,MAAMC,KAAI,SAAAC,GAAC,OAAIA,EAAEJ,QAAQ,GAAGC,gBAC/CxC,EAAaqC,EAAKI,MAAMC,KAAI,SAAAC,GAAC,OAAIC,KAAKC,MAAMF,EAAExE,KAAKJ,SACnDmC,EAAamC,EAAKI,MAAMC,KAAI,SAAAC,GAAC,OAAIC,KAAKC,MAAMF,EAAExE,KAAKH,SACnD8E,QAAQC,IAAIV,GAlBO,4CAAH,sDAqBlB,OACE,sBAAKzE,UAAU,YAAf,UACI,cAAC,EAAD,CAAgBO,KAAQyE,KAAKC,MAAMtD,EAAYpB,MAAOL,KAAQ2B,EAAarB,SAtD5D,SAAC4E,GACpBA,EAAMC,iBACN3C,EAAeH,IAoD0F3B,SAjDtF,SAACwE,GACpB5C,EAAc4C,EAAME,OAAOC,QAgDwGlE,SAAYsB,IAC7I,mBAAG3C,UAAU,WAAb,yBACA,sBAAKA,UAAU,WAAf,UACE,cAAC,EAAD,CAAUC,KAAQ8B,EAAU,GAAI7B,KAAQ+B,EAAU,GAAI9B,IAAOgC,EAAS,GAAI/B,IAAOiC,EAAS,KAC1F,cAAC,EAAD,CAAUpC,KAAQ8B,EAAU,GAAI7B,KAAQ+B,EAAU,GAAI9B,IAAOgC,EAAS,GAAI/B,IAAOiC,EAAS,KAC1F,cAAC,EAAD,CAAUpC,KAAQ8B,EAAU,GAAI7B,KAAQ+B,EAAU,GAAI9B,IAAOgC,EAAS,GAAI/B,IAAOiC,EAAS,KAC1F,cAAC,EAAD,CAAUpC,KAAQ8B,EAAU,GAAI7B,KAAQ+B,EAAU,GAAI9B,IAAOgC,EAAS,GAAI/B,IAAOiC,EAAS,KAC1F,cAAC,EAAD,CAAUpC,KAAQ8B,EAAU,GAAI7B,KAAQ+B,EAAU,GAAI9B,IAAOgC,EAAS,GAAI/B,IAAOiC,EAAS,KAC1F,cAAC,EAAD,CAAUpC,KAAQ8B,EAAU,GAAI7B,KAAQ+B,EAAU,GAAI9B,IAAOgC,EAAS,GAAI/B,IAAOiC,EAAS,KAC1F,cAAC,EAAD,CAAUpC,KAAQ8B,EAAU,GAAI7B,KAAQ+B,EAAU,GAAI9B,IAAOgC,EAAS,GAAI/B,IAAOiC,EAAS,YCtFnFmD,EAZS,SAAAC,GAClBA,GAAeA,aAAuBC,UACxC,6BAAqBC,MAAK,YAAkD,IAA/CC,EAA8C,EAA9CA,OAAQC,EAAsC,EAAtCA,OAAQC,EAA8B,EAA9BA,OAAQC,EAAsB,EAAtBA,OAAQC,EAAc,EAAdA,QAC3DJ,EAAOH,GACPI,EAAOJ,GACPK,EAAOL,GACPM,EAAON,GACPO,EAAQP,OCDdQ,IAASC,OACP,cAAC,IAAMC,WAAP,UACE,cAAC,EAAD,MAEFC,SAASC,eAAe,SAM1Bb,M","file":"static/js/main.60a3c1df.chunk.js","sourcesContent":["export default __webpack_public_path__ + \"static/media/logo.6ce24c58.svg\";","import React from 'react';\r\n\r\nconst DailyRow = (props) => (\r\n  <div className=\"forecast-row\">\r\n    <p className=\"date\">{props.time}</p>\r\n    <p className=\"desc\">{props.desc}</p>\r\n    <p className=\"morn-temp\">{props.max}&#8451;</p>\r\n    <p className=\"even-temp\">{props.min}&#8451;</p>\r\n  </div>\r\n);\r\n\r\nexport default DailyRow","import React from 'react';\r\n\r\nconst CurrentDisplay = (props) => (\r\n    <div className=\"current-display\">\r\n        <h1 className=\"temp-today\">{!isNaN(props.temp) ? props.temp : \"loading...\"}&#8451;</h1>\r\n        <p className=\"desc-today\">{props.desc}</p>\r\n        <form onSubmit = {props.onSubmit}>\r\n            <input type=\"text\" autoComplete=\"off\" className=\"search-bar\" placeholder=\"eg... London, UK\" onChange = {props.onChange}/>\r\n        </form>\r\n        <div className=\"location\">\r\n            <svg width=\"24\" height=\"24\" viewBox=\"0 0 24 24\" fill=\"none\" xmlns=\"http://www.w3.org/2000/svg\">\r\n                <path fillRule=\"evenodd\" clipRule=\"evenodd\" d=\"M19.4751 9.98256C19.4751 14.1151 12.4585 21.67 11.9926 21.9632C11.5267 22.2564 4.51001 14.1151 4.51001 9.98256C4.51001 5.85006 7.86007 2.5 11.9926 2.5C16.1251 2.5 19.4751 5.85006 19.4751 9.98256ZM14.4868 9.98256C14.4868 11.3601 13.3701 12.4767 11.9926 12.4767C10.6151 12.4767 9.49838 11.3601 9.49838 9.98256C9.49838 8.60506 10.6151 7.48837 11.9926 7.48837C13.3701 7.48837 14.4868 8.60506 14.4868 9.98256Z\" fill=\"white\"/>\r\n                </svg>\r\n            <p className=\"city\">{props.location}</p>\r\n        </div>\r\n    </div>\r\n);\r\n\r\nexport default CurrentDisplay","import logo from './logo.svg';\r\nimport React, {useEffect, useState} from \"react\";\r\nimport './App.css';\r\nimport DailyRow from \"./components/DailyRow\";\r\nimport CurrentDisplay from './components/CurrentDisplay';\r\n\r\nconst App = () => {\r\n\r\n  // positive coords are N/E, negative are S/W\r\n  const long = '51.5074';\r\n  const lat = '-0.1278';\r\n  let locationSearch = \"\";\r\n  if (localStorage.getItem(\"Location\")){\r\n    locationSearch = localStorage.getItem(\"Location\");\r\n  }\r\n  else {\r\n    locationSearch = \"london, uk\";\r\n  }\r\n  \r\n  const [currentInfo, setCurrent] = useState([]);\r\n  const [currentDesc, setDesc] = useState([]);\r\n  const [dailyTime, setDailyTime] = useState([]);\r\n  const [dailyDesc, setDailyDesc] = useState([]); \r\n  const [dailyMax, setDailyMax] = useState([]);\r\n  const [dailyMin, setDailyMin] = useState([]);\r\n  const [inputValue, setInputValue] = useState();\r\n  const [searchValue, setSearchValue] = useState(locationSearch);\r\n  const [locationDisplay, setLocationDisplay] = useState();\r\n\r\n  // triggered on page load, will be set up to refresh when new location is added\r\n  useEffect(() => {\r\n    makeRequests(searchValue);\r\n    localStorage.setItem(\"Location\", searchValue);\r\n  }, [searchValue]);\r\n\r\n  const handleSubmit = (event) => {\r\n    event.preventDefault();\r\n    setSearchValue(inputValue);\r\n  };\r\n\r\n  const handleChange = (event) => {\r\n    setInputValue(event.target.value);\r\n  }\r\n\r\n  const nth = (d) => {\r\n    if (d > 3 && d < 21){return d+'th'};\r\n    switch (d % 10){\r\n      case 1: return d+'st';\r\n      case 2: return d+'nd';\r\n      case 3: return d+'rd';\r\n      default: return d+'th';\r\n    };\r\n  };\r\n\r\n  const dateString = (dt) => {\r\n    const dayArray = ['Sun', 'Mon', 'Tues', 'Wed', 'Thurs', 'Fri', 'Sat'];\r\n    const monthArray = ['Jan', 'Feb', 'Mar', 'Apr', 'May', 'June', 'July', 'Aug', 'Sep', 'Oct', 'Nov', 'Dec']\r\n    // x1000 to convert form unix time to milliseconds\r\n    const dateTime = new Date(dt*1000);\r\n    const dayIndex = dateTime.getDay();\r\n    const dateVal = nth(dateTime.getDate());\r\n    const month = dateTime.getMonth();\r\n    return `${dayArray[dayIndex]} ${dateVal} ${monthArray[month]}`;\r\n  }\r\n\r\n  // fetches and logs the data, updates the current info\r\n  const makeRequests = async (locationString) => {\r\n    const locReq = `https://maps.googleapis.com/maps/api/geocode/json?address=${locationString}&key=AIzaSyCMCT2J6HObmXkBZiD-gMAdmucOoTXEn_U`;\r\n    const locResponse = await fetch(locReq);\r\n    const locData = await locResponse.json();\r\n    const lat = locData.results[0].geometry.location.lat;\r\n    const lng = locData.results[0].geometry.location.lng;\r\n    setLocationDisplay(locData.results[0].formatted_address);\r\n    \r\n    // use longitude and latitude to build a 2nd API call to the weather API\r\n    const weatherReq = `https://api.openweathermap.org/data/2.5/onecall?lat=${lat}&lon=${lng}&units=metric&appid=a7ff38ee1c49b77064c72f94875dcc9e`;\r\n    const weatherResponse = await fetch(weatherReq);\r\n    const data = await weatherResponse.json();\r\n    setCurrent(data.current);\r\n    setDesc(data.current.weather[0].description);\r\n    setDailyTime( data.daily.map(x => dateString(x.dt)) );        // messy fix to prevent React throwing object assignment errors\r\n    setDailyDesc( data.daily.map(x => x.weather[0].description) );\r\n    setDailyMax( data.daily.map(x => Math.round(x.temp.max)) );\r\n    setDailyMin( data.daily.map(x => Math.round(x.temp.min)) );\r\n    console.log(data);\r\n  };\r\n\r\n  return(\r\n    <div className=\"container\">\r\n        <CurrentDisplay temp = {Math.round(currentInfo.temp)} desc = {currentDesc} onSubmit = {handleSubmit} onChange = {handleChange} location = {locationDisplay}/>\r\n      <p className=\"subtitle\">next 7 days</p>\r\n      <div className=\"forecast\">\r\n        <DailyRow time = {dailyTime[1]} desc = {dailyDesc[1]} max = {dailyMax[1]} min = {dailyMin[1]}/>\r\n        <DailyRow time = {dailyTime[2]} desc = {dailyDesc[2]} max = {dailyMax[2]} min = {dailyMin[2]}/>\r\n        <DailyRow time = {dailyTime[3]} desc = {dailyDesc[3]} max = {dailyMax[3]} min = {dailyMin[3]}/>\r\n        <DailyRow time = {dailyTime[4]} desc = {dailyDesc[4]} max = {dailyMax[4]} min = {dailyMin[4]}/>\r\n        <DailyRow time = {dailyTime[5]} desc = {dailyDesc[5]} max = {dailyMax[5]} min = {dailyMin[5]}/>\r\n        <DailyRow time = {dailyTime[6]} desc = {dailyDesc[6]} max = {dailyMax[6]} min = {dailyMin[6]}/>\r\n        <DailyRow time = {dailyTime[7]} desc = {dailyDesc[7]} max = {dailyMax[7]} min = {dailyMin[7]}/>\r\n      </div>\r\n    </div>\r\n  );\r\n};\r\n\r\nexport default App;","const reportWebVitals = onPerfEntry => {\n  if (onPerfEntry && onPerfEntry instanceof Function) {\n    import('web-vitals').then(({ getCLS, getFID, getFCP, getLCP, getTTFB }) => {\n      getCLS(onPerfEntry);\n      getFID(onPerfEntry);\n      getFCP(onPerfEntry);\n      getLCP(onPerfEntry);\n      getTTFB(onPerfEntry);\n    });\n  }\n};\n\nexport default reportWebVitals;\n","import React from 'react';\nimport ReactDOM from 'react-dom';\nimport './index.css';\nimport App from './App';\nimport reportWebVitals from './reportWebVitals';\n\nReactDOM.render(\n  <React.StrictMode>\n    <App />\n  </React.StrictMode>,\n  document.getElementById('root')\n);\n\n// If you want to start measuring performance in your app, pass a function\n// to log results (for example: reportWebVitals(console.log))\n// or send to an analytics endpoint. Learn more: https://bit.ly/CRA-vitals\nreportWebVitals();\n"],"sourceRoot":""}